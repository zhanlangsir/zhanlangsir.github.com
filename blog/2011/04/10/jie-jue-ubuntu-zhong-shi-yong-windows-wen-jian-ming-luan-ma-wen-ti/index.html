
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>解决Ubuntu中使用windows文件名乱码问题 - 挨踢人生</title>
  <meta name="author" content="zhanlang">

  
  <meta name="description" content="ubuntu环境设置的字符集utf8，windows默认字符集是GBK，Ubuntu的默认字符集为utf-8，这使 得在用telnet登录远程服务器或查看windows文件时出现乱码。需要将ubuntu环境设置为GBK或GB2312，或设置软件使其正确显示汉 字。下面以GBK字符集为例进行说明：一 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zhanlangsir.github.com/blog/2011/04/10/jie-jue-ubuntu-zhong-shi-yong-windows-wen-jian-ming-luan-ma-wen-ti/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="挨踢人生" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">挨踢人生</a></h1>
  
    <h2>做一个有思想的人</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zhanlangsir.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">解决Ubuntu中使用windows文件名乱码问题</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-10T00:00:00+08:00" pubdate data-updated="true">Apr 10<span>th</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>ubuntu环境设置的字符集utf8，<a style="outline-width: 0px; outline-style: initial; outline-color: initial; font-size: 14px; text-decoration: none; color: #787878; padding: 0px; margin: 0px; border: 0px initial initial;" title="windows" href="http://www.aitilife.com/category/operating-system/windows">windows</a>默认字符集是GBK，Ubuntu的默认字符集为utf-8，这使 得在用telnet登录远程服务器或查看windows文件时出现乱码。需要将ubuntu环境设置为GBK或GB2312，或设置软件使其正确显示汉 字。下面以GBK字符集为例进行说明：<br><br>一、修改Ubuntu默认字符集为GBK<br>1、首先设置sudo vi /var/lib/locales/supported.d/local<br>添加一行 zh_CN.GBK GBK<br>sudo locale-gen生成locale
2、修改ubuntu的字符集<br>方法：修改/etc/environment，增加以下内容：<br>LANGUAGE=”zh_CN:zh:en_US:en”<br>LANG=zh_CN.GBK<br>然后重启X即可<br>这个方法对没有设置LANG及LANGUAGE环境变量的用户有效
二、设置软件命名其正常显示GBK<br>这需要软件本身支持多字符编码，最常见的是IE等浏览器，可以通过设置编码显示GBK字符集。Ubuntu下的一些软件也支持此功能，以ubuntu的终 端程序为例，使其正常显示GBK编码的方法是：在termial窗口上点击菜单：终端->设置字符编码->选择GBK即可。
＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃<br>解决文件名，mp3标签，文本文件的中文乱码[more]
从windows转移到ubuntu的用户，常常会发现自己在windows下创建/下载/保存的文件经常性出现乱码问题(kubuntu出现问题的可能性更高一些)。而使用默认播放器打开以往的音乐文件(mp3等)时，出现乱码的机会更是接近100%。
这些问题的解决方案在ubuntu使用技巧中已被收录，但是由于问题的普遍性，我认为有必要转移到这里。
转换文件名由GBK为UTF8
sudo apt-get install convmv<br>convmv -r -f cp936 -t utf8 –notest –nosmart <em><br>转换文件内容由GBK到UTF8<br>iconv -f gbk -t utf8 $i > newfile
转换 mp3 标签编码
sudo apt-get install python-mutagen<br>find . -iname “</em>.mp3” -execdir mid3iconv -e GBK {} ;
＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃<br>buntu默认的打开.txt文件用的是gedit，可gedit默认编码是UTF8，打开windows下编辑的gb2312的文档都是乱码。解决方法之一就是把gedit的编码改为GB2312，方法如下：
在Applications菜单上点右键，选择EditMenu.在MainMenu的对话框中勾选SystemTools－ConfigurationEditor，并从Applications菜单中开启。
依次开启/apps/gedit-2/preferences/encodings/双击右侧auto_detected,在弹出对话框中点选Add，添加Values值为GB2312,确定后选中，点选Up按钮将其移至第一位。
同样方法，对show_in_menu进行设置，并将GB2312置于首位。
还有一种方法是用openoffice打开.txt文件时，会让你选择编码，选GB2312就行了。
＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊<br>1.系统默认编码
我们知道在中文 Windows 下一般来说系统的默认编码是 GBK, 从 <a style="outline-width: 0px; outline-style: initial; outline-color: initial; font-size: 14px; text-decoration: none; color: #787878; padding: 0px; margin: 0px; border: 0px initial initial;" title="Java" href="http://www.aitilife.com/category/develop-technology/java">Java</a> 开发的角度来说, 就是在进行诸如 Java 源代码编译, 文件读写等操作时, 默认使用的编码是 GBK; 而我们参照一般的 Ubuntu 中文安装文档, 可能会建议将默认的语言设置为 zh_CN.UTF-8, 这样会带来一些问题, 比如我在 Windows 使用 Eclipse 时的编辑器的默认编码是 GBK, 但是在 Ubuntu 下面就是 UTF-8, 同样是使用 Eclipse, 在 Windows 下的中文文档到了 Ubuntu 中会产生乱码, 必须手工逐个文档设置属性中的编码为 GBK 才可以正常; 一些测试代码也是以默认编码读取文件的, 这些代码读取出来的文件内容也会包含乱码.
所以, 最好是将系统的默认编码设置为 GBK, 这样和 Windows 下面的开发环境最接近. 设置的方法应该不止一种, 我采用的是编辑 /etc/environment, 改成这个样子:<br>LANGUAGE=”zh_CN:zh:en_US:en”<br>GST_ID3_TAG_ENCODING=GBK<br>LANG=zh_CN.GBK<br>LC_CTYLE=zh_CN.GBK
＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊<br>Ubuntu 中文编码设置<br>今天开始把工作环境全部迁移到<a style="outline-width: 0px; outline-style: initial; outline-color: initial; font-size: 14px; text-decoration: none; color: #787878; padding: 0px; margin: 0px; border: 0px initial initial;" title="Linux" href="http://www.aitilife.com/category/operating-system/linux">Linux</a>，一天下来，算平静。很庆幸当初在win下面用了Mozilla Thunderbird邮件客户端，而不是OutLook，这简直太方便了，可以直接把上百兆的邮件存放目录复制到linux下直接用，与之形成鲜明对比 的是微软的新版live Messager,今天发现微软的这个东西甚至不支持安装在他们自己的WinXP 64/Wind2003/2008上面？我没有什么可说的呢。
Ubuntu 默认采用UTF8编码，可以方便global。但对中文支持，还不细致，即便默认采用中文安装，也并不会自动添加GB＊等支持，致使在Ubuntu下访问部分Win文本文件时，出现乱码。
I. 配置系统环境<br>执行 sudo vi /var/lib/locales/supported.d/zh<br>加入以下配置参数
zh_CN.GB18030 GB18030 (最新汉字编码字符集，向下兼容GBK,GB2312)<br>zh_CN.GBK GBK (汉字扩展编码,向下兼容GB2312, 并包含BIG5全部汉字)<br>zh_CN.GB2312 GB2312 (简化汉字编码字符集, 最近有客户要我们改进GB2312,太看得起我们了，我只能说:”NO!”)<br>zh_CN.GB18031 GB18031 (数字键盘汉字编码输入,面向手持设备，我的Nokia3120从来就是发短信，接听电话，无法和PC通讯，就不用这个了。 maybe用Google Android SDK的大侠们需要这个)<br>zh_HK.BIG5 BIG5 (繁体)<br>zh_TW.BIG5 BIG5 (繁体)
然后执行 sudo locale-gen<br>提示以下信息，成功了<br>zh_CN.GB18030… done<br>zh_CN.GBK… done<br>……
II. 系统环境支持GB*内码了，但用vi, gedit等工具访问文件还会继续乱码，需要针对不同的工具分别配置，使之自己检测支持范围内的编码<br>e.g. vi<br>执行 sudo vi /etc/vim/vimrc<br>加入以下配置参数<br>let &amp;termencoding=&amp;encoding<br>set fileencodings=utf-8,gb18030,gbk,gb2312,big5
e.g. gedit<br>执行 sudo gconf-editor<br>选择 apps/gedit-2/preferences/encodings<br>找到 auto_detected 编辑，在Values中分别加入 GB18030,GBK,GB2312,BIG5</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">zhanlang</span></span>

      








  


<time datetime="2011-04-10T00:00:00+08:00" pubdate data-updated="true">Apr 10<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/04/10/javascript--xue-xi-zi-yuan-tui-jian/" title="Previous Post: JavaScript 学习资源推荐">&laquo; JavaScript 学习资源推荐</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/04/10/liang-ge-hen-meng-de-wordpress-cha-jian/" title="Next Post: 两个很萌的wordpress插件~">两个很萌的wordpress插件~ &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/23/qtqq-v070-beta/">Qtqq v0.7.0-beta</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/23/about-qtqq0-8-0-alpha/">关于qtqq0.8.0-alpha</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/20/typecho-rewrite-rule/">typecho rewrite 规则</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/20/sae-wordpress--zhuan--typecho/">sae wordpress 转 typecho</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/20/linux-visual-diff-tool/">linux可视化差异比较工具 meld</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/zhanlangsir">@zhanlangsir</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'zhanlangsir',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - zhanlang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
